<html>
<head>
<title>Pong</title>
<body>
<canvas id="laCanvas" width="1000" height="600" >

</canvas>
</body>
<script>
var c = document.getElementById("laCanvas");
var ctx = c.getContext("2d");
var leftHeight = 225;
var rightHeight = 225;

ctx.fillStyle = "#000000";
ctx.fillRect(0,0,1000,600);
ctx.fillStyle = "#FFFFFF";
leftPaddle = ctx.fillRect(20,leftHeight,20,150);
rightPaddle = ctx.fillRect(960,rightHeight,20,150);
ctx.beginPath();
ctx.linewidth="5";
ctx.strokeStyle="black";
ctx.beginPath();
ctx.arc(500,300,15,0,2*Math.PI);
ctx.fillStyle = "white";
ctx.fill();
ctx.font= "80px Veranda";
ctx.fillStyle= "white";
ctx.fillText("0 0",450,70);

var keyWPressed = false;
var keySPressed = false;
var keyArrowUpPressed = false;
var keyArrowDownPressed = false;

window.addEventListener('keydown', function (evt) {
	if (evt.keyCode === 87) {
		keyWPressed = true;
		keySPressed = false;  	// the player can hold down both keys at once, but 
								// we want the last pressed key to take precedence
	} else if (evt.keyCode === 83) {
		keySPressed = true;
		keyWPressed = false;   // last keypress takes precedence
	} else if (evt.keyCode === 38) { // up arrow
		keyArrowUpPressed = true;
		keyArrowDownPressed = false;  // last keypress takes precedence
	} else if (evt.keyCode === 40) {  // down arrow
		keyArrowDownPressed = true;
		keyArrowUpPressed = false;  // last keypress takes precedence
	} else if (evt.keyCode === 82) {  // 'r'
	    // when a player has won, hitting 'r' resets the game
		if (winner) {
			restartGame();
		}
	}
});

function draw(){
	ctx.fillStyle = "#000000";
	ctx.fillRect(0,0,1000,600);
	ctx.fillStyle = "#FFFFFF";
	leftPaddle = ctx.fillRect(20,leftHeight,20,150);
	rightPaddle = ctx.fillRect(960,rightHeight,20,150);
	ctx.beginPath();
	ctx.linewidth="5";
	ctx.strokeStyle="black";
	ctx.beginPath();
	ctx.arc(500,300,15,0,2*Math.PI);
	ctx.fillStyle = "white";
	ctx.fill();
	ctx.font= "80px Veranda";
	ctx.fillStyle= "white";
	ctx.fillText("0 0",450,70);

}

function update(){
	if (keyWPressed){
		leftHeight = leftHeight - 5;
	}
}

function gameloop(){
	update();
	draw();
	window.requestAnimationFrame(gameloop);
}

window.addEventListener('keydown', gameloop());


/*so ctx.fillRect can draw over the current canvas, but it'll take the color of the last fillStyle color. So inorder to move the paddle up, we'll have to first redraw the the paddle up 10px in white, and then draw the last bit of the paddle in black, let's simulate the paddle moving up

if the paddle starts at the coordinates (20,225,20,150)

moving up 10px would be 
(20,220,20,145)

but we'll have to erase the trail left behind, so we'll change the color to black, 

ctx.fillStyle = "#000000";
and then do 

(20,370,20,15) 
*/


</script>
</head>
</html>